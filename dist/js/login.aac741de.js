"use strict";(self["webpackChunkheima_toutiao_app"]=self["webpackChunkheima_toutiao_app"]||[]).push([[535],{5066:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-nav-bar",{attrs:{title:"黑马头条-登录"}}),a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"mobile",label:"手机号",required:"",placeholder:"请填写手机号",rules:[{required:!0,message:"请填写11位正确的手机号",pattern:/^1[3-9]\d{9}$/}]},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile",t)},expression:"user.mobile"}}),a("van-field",{attrs:{type:"password",name:"code",label:"密码",required:"",placeholder:"请填写密码",rules:[{required:!0,message:"请填写6位正确的密码",pattern:/^\d{6}$/}]},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",loading:e.isLoading,disabled:e.isLoading,type:"info","loading-text":"加载中...","native-type":"submit"}},[e._v("登录")])],1)],1)],1)},o=[],i=(a(5642),a(8398)),r=a(8364),n=a(6188),l={name:"LoginItem",data(){return{user:{mobile:"13888888888",code:"246810"},isLoading:!1}},created(){},methods:{async onSubmit(){this.isLoading=!0;try{const e=await(0,r.WW)(this.user);(0,n.po)("geek-itheima",e.data.data.token),(0,n.po)("refresh_token",e.data.data.refresh_token),console.log(e.data.data),(0,i.Z)({type:"success",message:"登录成功"}),this.$router.replace({path:this.$route.query.path||"/layout/home"})}catch(e){(0,i.Z)({type:"danger",message:"账号或密码输入错误，请重试"})}this.isLoading=!1}},components:{}},u=l,d=a(1001),c=(0,d.Z)(u,s,o,!1,null,"4bc5f1a2",null),m=c.exports}}]);
//# sourceMappingURL=login.aac741de.js.map