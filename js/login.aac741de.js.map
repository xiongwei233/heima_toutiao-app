{"version":3,"file":"js/login.aac741de.js","mappings":"8KAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,aAAaF,EAAG,WAAW,CAACG,GAAG,CAAC,OAASP,EAAIQ,WAAW,CAACJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAM,SAAW,GAAG,YAAc,SAAS,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,eAAgBC,QAAQ,mBAAoBC,MAAM,CAACC,MAAOb,EAAIc,KAAW,OAAEC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIc,KAAM,SAAUE,IAAME,WAAW,iBAAiBd,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,OAAO,MAAQ,KAAK,SAAW,GAAG,YAAc,QAAQ,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,aAAaC,QAAQ,aAAeC,MAAM,CAACC,MAAOb,EAAIc,KAAS,KAAEC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIc,KAAM,OAAQE,IAAME,WAAW,eAAed,EAAG,MAAM,CAACe,YAAY,CAAC,OAAS,SAAS,CAACf,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,QAAUN,EAAIoB,UAAU,SAAWpB,EAAIoB,UAAU,KAAO,OAAO,eAAe,SAAS,cAAc,WAAW,CAACpB,EAAIqB,GAAG,SAAS,IAAI,IAAI,IACn+BC,EAAkB,G,wCCwCtB,GACAC,KAAAA,YACAC,OACA,OACAV,KAAAA,CACAW,OAAAA,cACAC,KAAAA,UAEAN,WAAAA,IAGAO,YAEAC,QAAAA,CACA,iBACA,kBACA,IACA,kCACAC,EAAAA,EAAAA,IAAAA,eAAAA,EAAAA,KAAAA,KAAAA,QAEAA,EAAAA,EAAAA,IAAAA,gBAAAA,EAAAA,KAAAA,KAAAA,eAEAC,QAAAA,IAAAA,EAAAA,KAAAA,OACA,QAAAC,KAAAA,UAAArB,QAAAA,SAIA,sBAAAsB,KAAAA,KAAAA,OAAAA,MAAAA,MAAAA,iBACA,UACA,QAAAD,KAAAA,SAAArB,QAAAA,kBAEA,oBAGAuB,WAAAA,IC3E0Q,I,UCQtQC,GAAY,OACd,EACAnC,EACAuB,GACA,EACA,KACA,WACA,MAIF,EAAeY,EAAiB","sources":["webpack://heima_toutiao-app/./src/views/login/index.vue?4f0e","webpack://heima_toutiao-app/src/views/login/index.vue","webpack://heima_toutiao-app/./src/views/login/index.vue?13d0","webpack://heima_toutiao-app/./src/views/login/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条-登录\"}}),_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"required\":\"\",\"placeholder\":\"请填写手机号\",\"rules\":[{ required: true, message: '请填写11位正确的手机号', pattern:/^1[3-9]\\d{9}$/ }]},model:{value:(_vm.user.mobile),callback:function ($$v) {_vm.$set(_vm.user, \"mobile\", $$v)},expression:\"user.mobile\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"code\",\"label\":\"密码\",\"required\":\"\",\"placeholder\":\"请填写密码\",\"rules\":[{ required: true, message: '请填写6位正确的密码',pattern:/^\\d{6}$/ } ]},model:{value:(_vm.user.code),callback:function ($$v) {_vm.$set(_vm.user, \"code\", $$v)},expression:\"user.code\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"loading\":_vm.isLoading,\"disabled\":_vm.isLoading,\"type\":\"info\",\"loading-text\":\"加载中...\",\"native-type\":\"submit\"}},[_vm._v(\"登录\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar title=\"黑马头条-登录\" />\r\n    <!-- 登录表单 -->\r\n    <van-form @submit=\"onSubmit\">\r\n      <van-field\r\n        v-model=\"user.mobile\"\r\n        name=\"mobile\"\r\n        label=\"手机号\"\r\n        required\r\n        placeholder=\"请填写手机号\"\r\n        :rules=\"[{ required: true, message: '请填写11位正确的手机号', pattern:/^1[3-9]\\d{9}$/ }]\"\r\n      />\r\n      <van-field\r\n        v-model=\"user.code\"\r\n        type=\"password\"\r\n        name=\"code\"\r\n        label=\"密码\"\r\n        required\r\n        placeholder=\"请填写密码\"\r\n        :rules=\"[{ required: true, message: '请填写6位正确的密码',pattern:/^\\d{6}$/ } ]\"\r\n      />\r\n      <div style=\"margin: 16px;\">\r\n        <van-button\r\n          round\r\n          block\r\n          :loading=\"isLoading\"\r\n          :disabled=\"isLoading\"\r\n          type=\"info\"\r\n          loading-text=\"加载中...\"\r\n          native-type=\"submit\"\r\n        >登录</van-button>\r\n      </div>\r\n    </van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { userLoginAPI } from '@/api'\r\nimport { Notify } from 'vant'\r\nimport { setStorage } from '@/util/storage'\r\nexport default {\r\n  name: 'LoginItem',\r\n  data () {\r\n    return {\r\n      user: {\r\n        mobile: '13888888888',\r\n        code: '246810' // 246810\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  created () {\r\n  },\r\n  methods: {\r\n    async onSubmit () {\r\n      this.isLoading = true\r\n      try {\r\n        const res = await userLoginAPI(this.user)\r\n        setStorage('geek-itheima', res.data.data.token) // 存入token\r\n        // 保存refresh_token，这个是用来获取 新的token的\r\n        setStorage('refresh_token', res.data.data.refresh_token)\r\n\r\n        console.log(res.data.data)\r\n        Notify({ type: 'success', message: '登录成功' })\r\n        // this.$router.push({ name: 'Layout' })\r\n\r\n        // 如果路由路径上有参数，就直接跳转，如果没有参数就跳转到首页\r\n        this.$router.replace({ path: this.$route.query.path || '/layout/home' })\r\n      } catch (err) {\r\n        Notify({ type: 'danger', message: '账号或密码输入错误，请重试' })\r\n      }\r\n      this.isLoading = false\r\n    }\r\n  },\r\n  components: {\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped >\r\n/*\r\n.van-nav-bar {\r\n  background-color: #0e85ff;\r\n}\r\n/deep/ .van-nav-bar__title {\r\n  color: white;\r\n}\r\n*/\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4bc5f1a2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4bc5f1a2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bc5f1a2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","onSubmit","required","message","pattern","model","value","user","callback","$$v","$set","expression","staticStyle","isLoading","_v","staticRenderFns","name","data","mobile","code","created","methods","setStorage","console","type","path","components","component"],"sourceRoot":""}